{"componentChunkName":"component---src-templates-blog-post-js","path":"/physical-computing/project-2/","result":{"data":{"site":{"siteMetadata":{"title":"fridge notes"}},"markdownRemark":{"id":"95e2f7a7-3993-5b94-9083-60921248d62e","excerpt":"Project 2 New Concepts: Rotary Encoder I was looking around for rotary encoder tutorials for using one as a part of my etch a sketch.\nThis was the initialâ€¦","html":"<h2>Project 2</h2>\n<h1>New Concepts: Rotary Encoder</h1>\n<p>I was looking around for rotary encoder tutorials for using one as a part of my etch a sketch.\nThis was the <a href=\"https://bildr.org/2012/08/rotary-encoder-arduino/\">initial tutorial</a> I had found but ultimately followed <a href=\"https://bit.ly/3nakt49\">this</a> when my parts arrived.</p>\n<p>Fundamentally, I am working with two rotary encoders and my on board accelerometer.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/80cb8c09c975eb6951819b2bd73f76c4/0f98f/items.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMFAQT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABfP61RbNK/8QAGRAAAgMBAAAAAAAAAAAAAAAAAgMABDMB/9oACAEBAAEFAniJWR5EZW9wis//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAACAQUAAAAAAAAAAAAAAAAAARACERIhgf/aAAgBAQAGPwJ5O2opOQj/xAAbEAACAQUAAAAAAAAAAAAAAAAAAREQIUFxsf/aAAgBAQABPyGIJEuYHlmo5Kv/AP/aAAwDAQACAAMAAAAQb8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAACAgEFAQAAAAAAAAAAAAAAAREhsTFBUWGh8P/aAAgBAQABPxBcOLU2W5SJGzuhIXDZYvy7E0PO8s//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"parts\"\n        title=\"parts\"\n        src=\"/blog/static/80cb8c09c975eb6951819b2bd73f76c4/1c72d/items.jpg\"\n        srcset=\"/blog/static/80cb8c09c975eb6951819b2bd73f76c4/a80bd/items.jpg 148w,\n/blog/static/80cb8c09c975eb6951819b2bd73f76c4/1c91a/items.jpg 295w,\n/blog/static/80cb8c09c975eb6951819b2bd73f76c4/1c72d/items.jpg 590w,\n/blog/static/80cb8c09c975eb6951819b2bd73f76c4/a8a14/items.jpg 885w,\n/blog/static/80cb8c09c975eb6951819b2bd73f76c4/fbd2c/items.jpg 1180w,\n/blog/static/80cb8c09c975eb6951819b2bd73f76c4/0f98f/items.jpg 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>I also had an etch-a-sketch on hand, but unfortunately to take it apart I would need a Dremel saw and I could not access one.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/56640ff27ac3e12a620d33c773922efc/0f98f/etch.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBBQb/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAABYuK400wCn//EABsQAAMAAgMAAAAAAAAAAAAAAAECBBM0AAMR/9oACAEBAAEFAqB7S/UMcmtcTlV2HJdb/8QAFREBAQAAAAAAAAAAAAAAAAAAEBL/2gAIAQMBAT8Bo//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/AYf/xAAZEAEAAwEBAAAAAAAAAAAAAAAAAQIRIYH/2gAIAQEABj8C8bCjHJUf/8QAGxABAAICAwAAAAAAAAAAAAAAAQARMaFBUYH/2gAIAQEAAT8hNx6wyIuacMBVUOJw55NWf//aAAwDAQACAAMAAAAQlM//xAAYEQEBAAMAAAAAAAAAAAAAAAABERAhQf/aAAgBAwEBPxAgGuuY/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAECAQE/EDS//8QAHBABAAICAwEAAAAAAAAAAAAAAQARMUEhcbGh/9oACAEBAAE/EAlE39sflCYRanDs+scgaRd87zBKpXeE+z6z/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"etch\"\n        title=\"etch\"\n        src=\"/blog/static/56640ff27ac3e12a620d33c773922efc/1c72d/etch.jpg\"\n        srcset=\"/blog/static/56640ff27ac3e12a620d33c773922efc/a80bd/etch.jpg 148w,\n/blog/static/56640ff27ac3e12a620d33c773922efc/1c91a/etch.jpg 295w,\n/blog/static/56640ff27ac3e12a620d33c773922efc/1c72d/etch.jpg 590w,\n/blog/static/56640ff27ac3e12a620d33c773922efc/a8a14/etch.jpg 885w,\n/blog/static/56640ff27ac3e12a620d33c773922efc/fbd2c/etch.jpg 1180w,\n/blog/static/56640ff27ac3e12a620d33c773922efc/0f98f/etch.jpg 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>So I opted to make do with what I had and make a small controller.</p>\n<p>From there I wired up a prototype to make sure the encoders worked.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/0f98f/test.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.08108108108109%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABQD/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFUZkofqP/EABkQAAIDAQAAAAAAAAAAAAAAAAQzAAIDEv/aAAgBAQABBQIpFM+C4SjF0//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAQACAwAAAAAAAAAAAAAAAAIAEBFRcf/aAAgBAQAGPwJQY3Sg7X//xAAbEAABBAMAAAAAAAAAAAAAAAABABARsSFRgf/aAAgBAQABPyHLlaCLKN2rWhEjP//aAAwDAQACAAMAAAAQc8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgMAAwAAAAAAAAAAAAABACERMUEQwfD/2gAIAQEAAT8QAN0+iEq2rWc1U5LD8pNoKUVzx8f/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"test\"\n        title=\"test\"\n        src=\"/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/1c72d/test.jpg\"\n        srcset=\"/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/a80bd/test.jpg 148w,\n/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/1c91a/test.jpg 295w,\n/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/1c72d/test.jpg 590w,\n/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/a8a14/test.jpg 885w,\n/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/fbd2c/test.jpg 1180w,\n/blog/static/4cf82c8d4d0043f7ceafa7421ee1e0f5/0f98f/test.jpg 1920w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>And included this code:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#define CLK 4\n#define DT 3\n#define SW 2\n\nint counter = 0;\nint currentStateCLK;\nint lastStateCLK;\nString currentDir =&quot;&quot;;\nunsigned long lastButtonPress = 0;\n\nvoid setup() {\n\n    // Set encoder pins as inputs\n    pinMode(CLK,INPUT);\n    pinMode(DT,INPUT);\n    pinMode(SW, INPUT_PULLUP);\n\n    // Setup Serial Monitor\n    Serial.begin(9600);\n\n    // Read the initial state of CLK\n    lastStateCLK = digitalRead(CLK);\n}\n\nvoid loop() {\n\n    currentStateCLK = digitalRead(CLK);\n    if (currentStateCLK != lastStateCLK  &amp;&amp; currentStateCLK == 1){\n        if (digitalRead(DT) != currentStateCLK) {\n        counter --;\n        currentDir =&quot;CCW&quot;;\n        } else {\n        // Encoder is rotating CW so increment\n        counter ++;\n        currentDir =&quot;CW&quot;;\n        }\n\n        Serial.print(&quot;Direction: &quot;);\n        Serial.print(currentDir);\n        Serial.print(&quot; | Counter: &quot;);\n        Serial.println(counter);\n    }\n\n    lastStateCLK = currentStateCLK;\n\n    int btnState = digitalRead(SW);\n\n    if (btnState == LOW) {\n        if (millis() - lastButtonPress &gt; 50) {\n            Serial.println(&quot;Button pressed!&quot;);\n        }\n        lastButtonPress = millis();\n    }\n\n    delay(1);\n}</code></pre></div>\n<p>Next up was soldering my rotary encoders so they did not require to be directly in the breadboard. </p>\n<p>After soldering I worked on my code getting </p>","frontmatter":{"title":"Project 2","date":"November 09, 2020","description":null}}},"pageContext":{"slug":"/physical-computing/project-2/","previous":{"fields":{"slug":"/animation/assignment-2/"},"frontmatter":{"title":"Understanding Comics"}},"next":null}},"staticQueryHashes":["2841359383","3257411868"]}